import React, { useState } from 'react'
import './editProfile.scss'
import FooterSearch from '../../components/footerSearch/FooterSearch';
import { useNavigate } from 'react-router-dom';
import Swal from 'sweetalert2';
import { useDispatch, useSelector } from 'react-redux';

const EditProfile = () => {

    const [user, setUser] = useState({ name: 'Donnie Darko', image: 'https://content.wepik.com/statics/20906796/preview-page0.jpg', email: 'darkd@heavy.com', phone: '+69 616 444 4666', birth: '19.12.1980' })

    
    const { userLogged } = useSelector((store) => store.auth);
    const dispatch = useDispatch();




const handleSaveProfile = () => {

  Swal.fire({
    title: "Perfil actualizado",

    text: "Los cambios en tu perfil se han guardado con Ã©xito",

    icon: "success",

    confirmButtonText: "Ok",
  }).then((result) => {

    if (result.isConfirmed) {

      console.log("Bien Hecho");
    }
  });
};


    const navigate = useNavigate();
    const handleNavigate = (ruta) => 
    {
        navigate(`${ruta}`);
    }


    const [name, setName] = useState(userLogged.name);
    const [image, setImage] = useState(userLogged.userLogged);
    const [email, setEmail] = useState(userLogged.email);
    const [phone, setPhone] = useState(user.phone);
    const [birth, setBirth] = useState(userLogged.birthdate);


    const [editName, setEditName] = useState(false);
    const [editEmail, setEditEmail] = useState(false);
    const [editPhone, setEditPhone] = useState(false);
    const [editBirth, setEditBirth] = useState(false);


    const handleEditName = () => {

        if (editName) {

            handleSubmitName();
        }

        setEditName(!editName);
    };

    const handleChangeName = (e) => {

        setName(e.target.value);
    };


    const handleSubmitName = () => {

        setUser({ ...user, name });
    };


    const handleEditEmail = () => {
        if (editEmail) {
            handleSubmitEmail();
        }
        setEditEmail(!editEmail);
    };

    const handleChangeEmail = (e) => {
        setEmail(e.target.value);
    };

    const handleSubmitEmail = () => {
        setUser({ ...user, email });
    };

    const handleEditPhone = () => {
        if (editPhone) {
            handleSubmitPhone();
        }
        setEditPhone(!editPhone);
    };

    const handleChangePhone = (e) => {
        setPhone(e.target.value);
    };

    const handleSubmitPhone = () => {
        setUser({ ...user, phone });
    };

    const handleEditBirth = () => {
        if (editBirth) {
            handleSubmitBirth();
        }
        setEditBirth(!editBirth);
    };

    const handleChangeBirth = (e) => {
        setBirth(e.target.value);
    };

    const handleSubmitBirth = () => {
        setUser({ ...user, birth });
    };

    return (
        <main className='user'>

            <section className='user__info'>
                <div className='backToProfile'>
                    <svg onClick={() => handleNavigate('/Profile')} className='profileEditMain' xmlns="http://www.w3.org/2000/svg" width="9" height="16" viewBox="0 0 9 16" fill="none">
                        <path d="M2 9C2.55228 9 3 8.55228 3 8C3 7.44772 2.55228 7 2 7L2 9ZM0.292893 7.29289C-0.097631 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928932C7.68054 0.538408 7.04738 0.538408 6.65685 0.928932L0.292893 7.29289ZM2 7H1L1 9H2L2 7Z" fill="#414141" />
                    </svg>
                    <span ><b>Profile</b></span>
                </div>
                <figure className='figureUser'>
                    <img className='imgUser' src={userLogged.image} alt="profil" />
                    <svg className='camera' xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M14.4071 14.3514H1.38565C0.547809 14.3514 0 13.7249 0 12.9254V5.71953C0 4.89007 0.576 4.18937 1.38565 4.18937H5.23454L5.52533 2.80677C5.69676 2.11927 6.30324 1.64893 7.00343 1.64893H8.92775C9.62794 1.64893 10.2347 2.11927 10.4028 2.79305L10.6964 4.18937H14.4071C15.2117 4.18937 16 4.89007 16 5.71953V12.9254C16 13.7383 15.2536 14.3514 14.4071 14.3514ZM1.38565 4.95153C0.995556 4.95153 0.761905 5.31039 0.761905 5.71953V12.9254C0.761905 13.3101 0.96127 13.5892 1.38565 13.5892H14.4071C14.8259 13.5892 15.2381 13.3101 15.2381 12.9254V5.71953C15.2381 5.31039 14.7921 4.95153 14.4071 4.95153H10.387C10.2067 4.95153 10.0513 4.82531 10.0145 4.64905L9.66044 2.96372C9.58044 2.64423 9.27771 2.41108 8.92775 2.41108H7.00343C6.65346 2.41108 6.35098 2.64423 6.26768 2.97743L5.9167 4.64905C5.87962 4.82531 5.72419 4.95153 5.54387 4.95153H1.38565Z" fill="#414141" />
                        <path d="M7.81257 11.6777C6.41295 11.6777 5.27441 10.5386 5.27441 9.13902C5.27441 7.73889 6.41295 6.6001 7.81257 6.6001C9.21168 6.6001 10.3505 7.73889 10.3505 9.13902C10.3505 10.5386 9.21168 11.6777 7.81257 11.6777ZM7.81257 7.36226C6.83302 7.36226 6.03632 8.15921 6.03632 9.13902C6.03632 10.1186 6.83302 10.9155 7.81257 10.9155C8.79187 10.9155 9.58857 10.1186 9.58857 9.13902C9.58857 8.15921 8.79187 7.36226 7.81257 7.36226Z" fill="#414141" />
                        <path d="M7.81298 13.0389C5.66314 13.0389 3.91406 11.2893 3.91406 9.1392C3.91406 6.98859 5.66314 5.23926 7.81298 5.23926C9.96257 5.23926 11.7114 6.98859 11.7114 9.1392C11.7114 11.2893 9.96257 13.0389 7.81298 13.0389ZM7.81298 6.00116C6.08321 6.00116 4.67597 7.40891 4.67597 9.1392C4.67597 10.8692 6.08321 12.2767 7.81298 12.2767C9.54251 12.2767 10.9495 10.8692 10.9495 9.1392C10.9495 7.40891 9.54251 6.00116 7.81298 6.00116Z" fill="#414141" />
                        <path d="M4.4625 3.42743H2.43076C2.22047 3.42743 2.0498 3.25677 2.0498 3.04648C2.0498 2.83619 2.22047 2.66553 2.43076 2.66553H4.4625C4.67279 2.66553 4.84346 2.83619 4.84346 3.04648C4.84346 3.25677 4.67279 3.42743 4.4625 3.42743Z" fill="#414141" />
                        <path d="M12.5545 2.91943H12.7125C13.3166 2.91943 13.7144 3.39715 13.7144 4.00159V4.44375H11.6826V4.00159C11.6826 3.39715 11.9503 2.91943 12.5545 2.91943Z" fill="#414141" />
                    </svg>
                </figure>


            </section>

            <section className='listOptions'>
                <div className= { editName ? 'listOptions__action inputEdit': 'listOptions__action'}>

                    {editName ? (
                       
                        <input
                            type="text"
                            value={name}
                            onChange={handleChangeName}
                            placeholder="Your name"
                        />
                    ) : (

                        <span>
                            <b>{name}</b>
                        </span>
                    )}



                    {!editName ? <svg onClick={handleEditName} xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M1.00011 14.4998C0.929549 14.5002 0.859701 14.4857 0.795152 14.4572C0.730604 14.4287 0.672817 14.3869 0.62559 14.3344C0.578363 14.282 0.542766 14.2202 0.521138 14.153C0.499511 14.0859 0.492343 14.0149 0.500106 13.9448L0.885106 10.4448C0.898811 10.3329 0.949907 10.2289 1.03011 10.1498L9.21011 1.96976C9.35872 1.82085 9.53525 1.70271 9.72958 1.6221C9.9239 1.54149 10.1322 1.5 10.3426 1.5C10.553 1.5 10.7613 1.54149 10.9556 1.6221C11.15 1.70271 11.3265 1.82085 11.4751 1.96976L13.0301 3.52476C13.179 3.67338 13.2972 3.8499 13.3778 4.04423C13.4584 4.23856 13.4999 4.44688 13.4999 4.65726C13.4999 4.86764 13.4584 5.07596 13.3778 5.27029C13.2972 5.46462 13.179 5.64114 13.0301 5.78976L4.85511 13.9648C4.77592 14.045 4.67197 14.0961 4.56011 14.1098L1.06011 14.4948L1.00011 14.4998ZM1.86511 10.7248L1.56511 13.4348L4.27511 13.1348L12.3251 5.08476C12.381 5.02902 12.4254 4.96278 12.4557 4.88985C12.486 4.81692 12.5016 4.73873 12.5016 4.65976C12.5016 4.58079 12.486 4.5026 12.4557 4.42967C12.4254 4.35674 12.381 4.2905 12.3251 4.23476L10.7651 2.67476C10.7094 2.61882 10.6431 2.57444 10.5702 2.54416C10.4973 2.51387 10.4191 2.49829 10.3401 2.49829C10.2611 2.49829 10.1829 2.51387 10.11 2.54416C10.0371 2.57444 9.97085 2.61882 9.91511 2.67476L1.86511 10.7248Z" fill="#414141" />
                        <path d="M11.4996 7.10484C11.4338 7.10522 11.3686 7.09261 11.3077 7.06772C11.2468 7.04284 11.1913 7.00618 11.1446 6.95984L8.03962 3.84484C7.993 3.79822 7.95602 3.74287 7.93079 3.68196C7.90556 3.62105 7.89258 3.55577 7.89258 3.48984C7.89258 3.42391 7.90556 3.35863 7.93079 3.29771C7.95602 3.2368 7.993 3.18146 8.03962 3.13484C8.08624 3.08822 8.14159 3.05124 8.2025 3.02601C8.26341 3.00078 8.32869 2.98779 8.39462 2.98779C8.46055 2.98779 8.52584 3.00078 8.58675 3.02601C8.64766 3.05124 8.703 3.08822 8.74962 3.13484L11.8646 6.24984C11.9115 6.29632 11.9487 6.35162 11.9741 6.41255C11.9995 6.47348 12.0125 6.53883 12.0125 6.60484C12.0125 6.67084 11.9995 6.7362 11.9741 6.79713C11.9487 6.85806 11.9115 6.91336 11.8646 6.95984C11.8167 7.00739 11.7597 7.04476 11.697 7.06968C11.6342 7.0946 11.5671 7.10656 11.4996 7.10484Z" fill="#414141" />
                        <path d="M8.04301 6.25142L4.15039 10.144L4.8575 10.8511L8.75012 6.95853L8.04301 6.25142Z" fill="#414141" />
                    </svg> : <svg onClick={handleEditName} xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">
  <path d="M1 5L4 8L11 1" stroke="#414141" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
</svg>}

                </div>
            </section>

            <section className='listOptions'>
            <div className= { editEmail ? 'listOptions__action inputEdit': 'listOptions__action'}>

                    {editEmail ? (
                        <input
                            type="email"
                            value={email}
                            onChange={handleChangeEmail}
                            placeholder="Your email"
                        />
                    ) : (
                        <span>
                            <b>{email}</b>
                        </span>
                    )}


{!editEmail ? (<svg onClick={handleEditEmail} xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M1.00011 14.4998C0.929549 14.5002 0.859701 14.4857 0.795152 14.4572C0.730604 14.4287 0.672817 14.3869 0.62559 14.3344C0.578363 14.282 0.542766 14.2202 0.521138 14.153C0.499511 14.0859 0.492343 14.0149 0.500106 13.9448L0.885106 10.4448C0.898811 10.3329 0.949907 10.2289 1.03011 10.1498L9.21011 1.96976C9.35872 1.82085 9.53525 1.70271 9.72958 1.6221C9.9239 1.54149 10.1322 1.5 10.3426 1.5C10.553 1.5 10.7613 1.54149 10.9556 1.6221C11.15 1.70271 11.3265 1.82085 11.4751 1.96976L13.0301 3.52476C13.179 3.67338 13.2972 3.8499 13.3778 4.04423C13.4584 4.23856 13.4999 4.44688 13.4999 4.65726C13.4999 4.86764 13.4584 5.07596 13.3778 5.27029C13.2972 5.46462 13.179 5.64114 13.0301 5.78976L4.85511 13.9648C4.77592 14.045 4.67197 14.0961 4.56011 14.1098L1.06011 14.4948L1.00011 14.4998ZM1.86511 10.7248L1.56511 13.4348L4.27511 13.1348L12.3251 5.08476C12.381 5.02902 12.4254 4.96278 12.4557 4.88985C12.486 4.81692 12.5016 4.73873 12.5016 4.65976C12.5016 4.58079 12.486 4.5026 12.4557 4.42967C12.4254 4.35674 12.381 4.2905 12.3251 4.23476L10.7651 2.67476C10.7094 2.61882 10.6431 2.57444 10.5702 2.54416C10.4973 2.51387 10.4191 2.49829 10.3401 2.49829C10.2611 2.49829 10.1829 2.51387 10.11 2.54416C10.0371 2.57444 9.97085 2.61882 9.91511 2.67476L1.86511 10.7248Z" fill="#414141" />
                        <path d="M11.4996 7.10484C11.4338 7.10522 11.3686 7.09261 11.3077 7.06772C11.2468 7.04284 11.1913 7.00618 11.1446 6.95984L8.03962 3.84484C7.993 3.79822 7.95602 3.74287 7.93079 3.68196C7.90556 3.62105 7.89258 3.55577 7.89258 3.48984C7.89258 3.42391 7.90556 3.35863 7.93079 3.29771C7.95602 3.2368 7.993 3.18146 8.03962 3.13484C8.08624 3.08822 8.14159 3.05124 8.2025 3.02601C8.26341 3.00078 8.32869 2.98779 8.39462 2.98779C8.46055 2.98779 8.52584 3.00078 8.58675 3.02601C8.64766 3.05124 8.703 3.08822 8.74962 3.13484L11.8646 6.24984C11.9115 6.29632 11.9487 6.35162 11.9741 6.41255C11.9995 6.47348 12.0125 6.53883 12.0125 6.60484C12.0125 6.67084 11.9995 6.7362 11.9741 6.79713C11.9487 6.85806 11.9115 6.91336 11.8646 6.95984C11.8167 7.00739 11.7597 7.04476 11.697 7.06968C11.6342 7.0946 11.5671 7.10656 11.4996 7.10484Z" fill="#414141" />
                        <path d="M8.04301 6.25142L4.15039 10.144L4.8575 10.8511L8.75012 6.95853L8.04301 6.25142Z" fill="#414141" />
                    </svg>) : (<svg onClick={handleEditEmail} xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">
  <path d="M1 5L4 8L11 1" stroke="#414141" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
</svg>)}
            </div>
            </section>


            <section className='listOptions'>
            <div className= { editPhone ? 'listOptions__action inputEdit': 'listOptions__action'}>

                    {editPhone ? (
                        <input
                            type="tel"
                            value={phone}
                            onChange={handleChangePhone}
                            placeholder="Your phone number"
                        />
                    ) : (
                        <span>
                            <b>{phone}</b>
                        </span>
                    )}

                    {editPhone ? (<svg onClick={handleEditPhone} xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">
  <path d="M1 5L4 8L11 1" stroke="#414141" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
</svg>)  :(<svg onClick={handleEditPhone}
                        xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M1.00011 14.4998C0.929549 14.5002 0.859701 14.4857 0.795152 14.4572C0.730604 14.4287 0.672817 14.3869 0.62559 14.3344C0.578363 14.282 0.542766 14.2202 0.521138 14.153C0.499511 14.0859 0.492343 14.0149 0.500106 13.9448L0.885106 10.4448C0.898811 10.3329 0.949907 10.2289 1.03011 10.1498L9.21011 1.96976C9.35872 1.82085 9.53525 1.70271 9.72958 1.6221C9.9239 1.54149 10.1322 1.5 10.3426 1.5C10.553 1.5 10.7613 1.54149 10.9556 1.6221C11.15 1.70271 11.3265 1.82085 11.4751 1.96976L13.0301 3.52476C13.179 3.67338 13.2972 3.8499 13.3778 4.04423C13.4584 4.23856 13.4999 4.44688 13.4999 4.65726C13.4999 4.86764 13.4584 5.07596 13.3778 5.27029C13.2972 5.46462 13.179 5.64114 13.0301 5.78976L4.85511 13.9648C4.77592 14.045 4.67197 14.0961 4.56011 14.1098L1.06011 14.4948L1.00011 14.4998ZM1.86511 10.7248L1.56511 13.4348L4.27511 13.1348L12.3251 5.08476C12.381 5.02902 12.4254 4.96278 12.4557 4.88985C12.486 4.81692 12.5016 4.73873 12.5016 4.65976C12.5016 4.58079 12.486 4.5026 12.4557 4.42967C12.4254 4.35674 12.381 4.2905 12.3251 4.23476L10.7651 2.67476C10.7094 2.61882 10.6431 2.57444 10.5702 2.54416C10.4973 2.51387 10.4191 2.49829 10.3401 2.49829C10.2611 2.49829 10.1829 2.51387 10.11 2.54416C10.0371 2.57444 9.97085 2.61882 9.91511 2.67476L1.86511 10.7248Z" fill="#414141" />
                        <path d="M11.4996 7.10484C11.4338 7.10522 11.3686 7.09261 11.3077 7.06772C11.2468 7.04284 11.1913 7.00618 11.1446 6.95984L8.03962 3.84484C7.993 3.79822 7.95602 3.74287 7.93079 3.68196C7.90556 3.62105 7.89258 3.55577 7.89258 3.48984C7.89258 3.42391 7.90556 3.35863 7.93079 3.29771C7.95602 3.2368 7.993 3.18146 8.03962 3.13484C8.08624 3.08822 8.14159 3.05124 8.2025 3.02601C8.26341 3.00078 8.32869 2.98779 8.39462 2.98779C8.46055 2.98779 8.52584 3.00078 8.58675 3.02601C8.64766 3.05124 8.703 3.08822 8.74962 3.13484L11.8646 6.24984C11.9115 6.29632 11.9487 6.35162 11.9741 6.41255C11.9995 6.47348 12.0125 6.53883 12.0125 6.60484C12.0125 6.67084 11.9995 6.7362 11.9741 6.79713C11.9487 6.85806 11.9115 6.91336 11.8646 6.95984C11.8167 7.00739 11.7597 7.04476 11.697 7.06968C11.6342 7.0946 11.5671 7.10656 11.4996 7.10484Z" fill="#414141" />
                        <path d="M8.04301 6.25142L4.15039 10.144L4.8575 10.8511L8.75012 6.95853L8.04301 6.25142Z" fill="#414141" />
                    </svg>)}

                </div>
            </section>


            <section className='listOptions'>
            <div className= { editBirth ? 'listOptions__action inputEdit': 'listOptions__action'}>

                    {editBirth ? (
                        <input
                            type="date"
                            value={birth}
                            onChange={handleChangeBirth}
                            placeholder="Your date of birth"
                        />
                    ) : (
                        <span>
                            <b>{birth}</b>
                        </span>
                    )}


                    {editBirth ? (<svg onClick={handleEditBirth} xmlns="http://www.w3.org/2000/svg" width="12" height="9" viewBox="0 0 12 9" fill="none">
  <path d="M1 5L4 8L11 1" stroke="#414141" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
</svg>):  (<svg onClick={handleEditBirth}
                        xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M1.00011 14.4998C0.929549 14.5002 0.859701 14.4857 0.795152 14.4572C0.730604 14.4287 0.672817 14.3869 0.62559 14.3344C0.578363 14.282 0.542766 14.2202 0.521138 14.153C0.499511 14.0859 0.492343 14.0149 0.500106 13.9448L0.885106 10.4448C0.898811 10.3329 0.949907 10.2289 1.03011 10.1498L9.21011 1.96976C9.35872 1.82085 9.53525 1.70271 9.72958 1.6221C9.9239 1.54149 10.1322 1.5 10.3426 1.5C10.553 1.5 10.7613 1.54149 10.9556 1.6221C11.15 1.70271 11.3265 1.82085 11.4751 1.96976L13.0301 3.52476C13.179 3.67338 13.2972 3.8499 13.3778 4.04423C13.4584 4.23856 13.4999 4.44688 13.4999 4.65726C13.4999 4.86764 13.4584 5.07596 13.3778 5.27029C13.2972 5.46462 13.179 5.64114 13.0301 5.78976L4.85511 13.9648C4.77592 14.045 4.67197 14.0961 4.56011 14.1098L1.06011 14.4948L1.00011 14.4998ZM1.86511 10.7248L1.56511 13.4348L4.27511 13.1348L12.3251 5.08476C12.381 5.02902 12.4254 4.96278 12.4557 4.88985C12.486 4.81692 12.5016 4.73873 12.5016 4.65976C12.5016 4.58079 12.486 4.5026 12.4557 4.42967C12.4254 4.35674 12.381 4.2905 12.3251 4.23476L10.7651 2.67476C10.7094 2.61882 10.6431 2.57444 10.5702 2.54416C10.4973 2.51387 10.4191 2.49829 10.3401 2.49829C10.2611 2.49829 10.1829 2.51387 10.11 2.54416C10.0371 2.57444 9.97085 2.61882 9.91511 2.67476L1.86511 10.7248Z" fill="#414141" />
                        <path d="M11.4996 7.10484C11.4338 7.10522 11.3686 7.09261 11.3077 7.06772C11.2468 7.04284 11.1913 7.00618 11.1446 6.95984L8.03962 3.84484C7.993 3.79822 7.95602 3.74287 7.93079 3.68196C7.90556 3.62105 7.89258 3.55577 7.89258 3.48984C7.89258 3.42391 7.90556 3.35863 7.93079 3.29771C7.95602 3.2368 7.993 3.18146 8.03962 3.13484C8.08624 3.08822 8.14159 3.05124 8.2025 3.02601C8.26341 3.00078 8.32869 2.98779 8.39462 2.98779C8.46055 2.98779 8.52584 3.00078 8.58675 3.02601C8.64766 3.05124 8.703 3.08822 8.74962 3.13484L11.8646 6.24984C11.9115 6.29632 11.9487 6.35162 11.9741 6.41255C11.9995 6.47348 12.0125 6.53883 12.0125 6.60484C12.0125 6.67084 11.9995 6.7362 11.9741 6.79713C11.9487 6.85806 11.9115 6.91336 11.8646 6.95984C11.8167 7.00739 11.7597 7.04476 11.697 7.06968C11.6342 7.0946 11.5671 7.10656 11.4996 7.10484Z" fill="#414141" />
                        <path d="M8.04301 6.25142L4.15039 10.144L4.8575 10.8511L8.75012 6.95853L8.04301 6.25142Z" fill="#414141" />
                    </svg>)}

                </div>
            </section>

            <section onClick={() => handleSaveProfile()} className='saveContainer'>

                    <span>Save</span>

            </section>

        </main>
    )
}

export default EditProfile;


